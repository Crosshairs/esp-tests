# See LICENSE for license details.

#*****************************************************************************
# vsetvl.S
#-----------------------------------------------------------------------------
#
# Test vsetvl instruction.
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV64UV
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------

  TEST_VSETVL( 11, 1, 1, 2048, 2048 );
  TEST_VSETVL( 12, 1, 1, 2049, 2048 );
  TEST_VSETVL( 13, 1, 1, 2047, 2047 );

  TEST_VSETVL( 17, 2, 1, 1024, 1024 );
  TEST_VSETVL( 18, 2, 1, 1025, 1024 );
  TEST_VSETVL( 19, 2, 1, 1023, 1023 );

  TEST_VSETVL( 23, 3, 1, 680, 680 );
  TEST_VSETVL( 24, 3, 1, 681, 680 );
  TEST_VSETVL( 25, 3, 1, 679, 679 );

  TEST_VSETVL( 29, 4, 1, 512, 512 );
  TEST_VSETVL( 30, 4, 1, 513, 512 );
  TEST_VSETVL( 31, 4, 1, 511, 511 );

  TEST_VSETVL( 35, 5, 1, 408, 408 );
  TEST_VSETVL( 36, 5, 1, 409, 408 );
  TEST_VSETVL( 37, 5, 1, 407, 407 );

  TEST_VSETVL( 41, 6, 1, 336, 336 );
  TEST_VSETVL( 42, 6, 1, 337, 336 );
  TEST_VSETVL( 43, 6, 1, 335, 335 );

  TEST_VSETVL( 47, 7, 1, 288, 288 );
  TEST_VSETVL( 48, 7, 1, 289, 288 );
  TEST_VSETVL( 49, 7, 1, 287, 287 );

  TEST_VSETVL( 53, 8, 1, 256, 256 );
  TEST_VSETVL( 54, 8, 1, 257, 256 );
  TEST_VSETVL( 55, 8, 1, 255, 255 );

  TEST_VSETVL( 59, 9, 1, 224, 224 );
  TEST_VSETVL( 60, 9, 1, 225, 224 );
  TEST_VSETVL( 61, 9, 1, 223, 223 );

  TEST_VSETVL( 65, 10, 1, 200, 200 );
  TEST_VSETVL( 66, 10, 1, 201, 200 );
  TEST_VSETVL( 67, 10, 1, 199, 199 );

  TEST_VSETVL( 71, 11, 1, 184, 184 );
  TEST_VSETVL( 72, 11, 1, 185, 184 );
  TEST_VSETVL( 73, 11, 1, 183, 183 );

  TEST_VSETVL( 77, 12, 1, 168, 168 );
  TEST_VSETVL( 78, 12, 1, 169, 168 );
  TEST_VSETVL( 79, 12, 1, 167, 167 );

  TEST_VSETVL( 83, 13, 1, 152, 152 );
  TEST_VSETVL( 84, 13, 1, 153, 152 );
  TEST_VSETVL( 85, 13, 1, 151, 151 );

  TEST_VSETVL( 89, 14, 1,  144, 144 );
  TEST_VSETVL( 90, 14, 1,  145, 144 );
  TEST_VSETVL( 91, 14, 1,  143, 143 );

  TEST_VSETVL( 95, 15, 1,  136, 136 );
  TEST_VSETVL( 96, 15, 1,  137, 136 );
  TEST_VSETVL( 97, 15, 1,  135, 135 );

  TEST_VSETVL( 101, 16, 1, 128, 128 );
  TEST_VSETVL( 102, 16, 1, 129, 128 );
  TEST_VSETVL( 103, 16, 1, 127, 127 );

  TEST_VSETVL( 107, 17, 1, 120, 120 );
  TEST_VSETVL( 108, 17, 1, 121, 120 );
  TEST_VSETVL( 109, 17, 1, 119, 119 );

  TEST_VSETVL( 113, 18, 1, 112, 112 );
  TEST_VSETVL( 114, 18, 1, 113, 112 );
  TEST_VSETVL( 115, 18, 1, 111, 111 );

  TEST_VSETVL( 119, 19, 1, 104, 104 );
  TEST_VSETVL( 120, 19, 1, 105, 104 );
  TEST_VSETVL( 121, 19, 1, 103, 103 );

  TEST_VSETVL( 125, 20, 1, 96, 96  );
  TEST_VSETVL( 126, 20, 1, 97, 96  );
  TEST_VSETVL( 127, 20, 1, 95, 95  );

  TEST_VSETVL( 131, 21, 1, 96, 96 );
  TEST_VSETVL( 132, 21, 1, 97, 96 );
  TEST_VSETVL( 133, 21, 1, 95, 95 );

  TEST_VSETVL( 137, 22, 1, 88, 88 );
  TEST_VSETVL( 138, 22, 1, 89, 88 );
  TEST_VSETVL( 139, 22, 1, 87, 87 );

  TEST_VSETVL( 143, 23, 1, 88, 88 );
  TEST_VSETVL( 144, 23, 1, 89, 88 );
  TEST_VSETVL( 145, 23, 1, 87, 87 );

  TEST_VSETVL( 149, 24, 1, 80, 80 );
  TEST_VSETVL( 150, 24, 1, 81, 80 );
  TEST_VSETVL( 151, 24, 1, 79, 79 );

  TEST_VSETVL( 155, 25, 1, 80, 80 );
  TEST_VSETVL( 156, 25, 1, 81, 80 );
  TEST_VSETVL( 157, 25, 1, 79, 79 );

  TEST_VSETVL( 161, 26, 1, 72, 72 );
  TEST_VSETVL( 162, 26, 1, 73, 72 );
  TEST_VSETVL( 163, 26, 1, 71, 71 );

  TEST_VSETVL( 167, 27, 1, 72, 72 );
  TEST_VSETVL( 168, 27, 1, 73, 72 );
  TEST_VSETVL( 169, 27, 1, 71, 71 );

  TEST_VSETVL( 173, 28, 1, 72, 72 );
  TEST_VSETVL( 174, 28, 1, 73, 72 );
  TEST_VSETVL( 175, 28, 1, 71, 71 );

  TEST_VSETVL( 179, 29, 1, 64, 64 );
  TEST_VSETVL( 180, 29, 1, 65, 64 );
  TEST_VSETVL( 181, 29, 1, 63, 63 );

  TEST_VSETVL( 185, 30, 1, 64, 64 );
  TEST_VSETVL( 186, 30, 1, 65, 64 );
  TEST_VSETVL( 187, 30, 1, 63, 63 );

  TEST_VSETVL( 191, 31, 1, 64, 64 );
  TEST_VSETVL( 192, 31, 1, 65, 64 );
  TEST_VSETVL( 193, 31, 1, 63, 63 );

  TEST_VSETVL( 197, 32, 1, 64, 64 );
  TEST_VSETVL( 198, 32, 1, 65, 64 );
  TEST_VSETVL( 199, 32, 1, 63, 63 );

  TEST_VSETVL( 215, 32, 2, 64, 64 );
  TEST_VSETVL( 216, 32, 2, 65, 64 );
  TEST_VSETVL( 217, 32, 2, 63, 63 );

  TEST_VSETVL( 221, 32, 3, 64, 64 );
  TEST_VSETVL( 222, 32, 3, 65, 64 );
  TEST_VSETVL( 223, 32, 3, 63, 63 );

  TEST_VSETVL( 227, 32, 4, 64, 64 );
  TEST_VSETVL( 228, 32, 4, 65, 64 );
  TEST_VSETVL( 229, 32, 4, 63, 63 );

  TEST_VSETVL( 233, 32, 5, 64, 64 );
  TEST_VSETVL( 234, 32, 5, 65, 64 );
  TEST_VSETVL( 235, 32, 5, 63, 63 );

  TEST_VSETVL( 239, 32, 6, 64, 64 );
  TEST_VSETVL( 240, 32, 6, 65, 64 );
  TEST_VSETVL( 241, 32, 6, 63, 63 );

  TEST_VSETVL( 245, 32, 7, 64, 64 );
  TEST_VSETVL( 246, 32, 7, 65, 64 );
  TEST_VSETVL( 247, 32, 7, 63, 63 );

  TEST_VSETVL( 251, 32, 8, 64, 64 );
  TEST_VSETVL( 252, 32, 8, 65, 64 );
  TEST_VSETVL( 253, 32, 8, 63, 63 );

  TEST_VSETVL( 257, 32, 9, 64, 64  );
  TEST_VSETVL( 258, 32, 9, 65, 64  );
  TEST_VSETVL( 259, 32, 9, 63, 63  );

  TEST_VSETVL( 263, 32, 10, 64, 64  );
  TEST_VSETVL( 264, 32, 10, 65, 64  );
  TEST_VSETVL( 265, 32, 10, 63, 63  );

  TEST_VSETVL( 269, 32, 11, 64, 64  );
  TEST_VSETVL( 270, 32, 11, 65, 64  );
  TEST_VSETVL( 271, 32, 11, 63, 63  );

  TEST_VSETVL( 275, 32, 12, 64, 64  );
  TEST_VSETVL( 276, 32, 12, 65, 64  );
  TEST_VSETVL( 277, 32, 12, 63, 63  );

  TEST_VSETVL( 281, 32, 13, 64, 64  );
  TEST_VSETVL( 282, 32, 13, 65, 64  );
  TEST_VSETVL( 283, 32, 13, 63, 63  );

  TEST_VSETVL( 287, 32, 14, 64, 64  );
  TEST_VSETVL( 288, 32, 14, 65, 64  );
  TEST_VSETVL( 289, 32, 14, 63, 63  );

  TEST_VSETVL( 293, 32, 15, 64, 64  );
  TEST_VSETVL( 294, 32, 15, 65, 64  );
  TEST_VSETVL( 295, 32, 15, 63, 63  );

  TEST_VSETVL( 299, 32, 16, 64, 64  );
  TEST_VSETVL( 300, 32, 16, 65, 64  );
  TEST_VSETVL( 301, 32, 16, 63, 63  );

  TEST_PASSFAIL

RVTEST_CODE_END

  .data
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
